{"version":3,"sources":["../../lib/load-custom-routes.ts"],"names":["loadCustomRoutes","normalizeRouteRegex","config","headers","rewrites","redirects","Promise","all","loadHeaders","loadRewrites","loadRedirects","totalRewrites","beforeFiles","length","afterFiles","fallback","totalRoutes","console","warn","chalk","bold","yellow","trailingSlash","unshift","source","destination","permanent","locale","i18n","undefined","internal","basePath","allowedHasTypes","Set","namedGroupsRegex","regex","replace","checkRedirect","route","invalidParts","hadInvalidStatus","statusCode","allowedStatusCodes","has","push","checkHeader","Array","isArray","header","key","value","checkCustomRoutes","routes","type","error","process","exit","numInvalidRoutes","hadInvalidHas","allowedKeys","add","JSON","stringify","startsWith","keys","Object","invalidKeys","filter","invalidHasItems","hasItem","invalidHasParts","join","itemStr","_route","match","result","sourceTokens","tokens","regexStr","tryToParsePath","hasSegments","matchAll","unnamedInDest","token","name","unnamedIndex","RegExp","size","destTokens","destRegexStr","destinationParseFailed","handleUrl","sourceSegments","map","item","Boolean","invalidDestSegments","hasInvalidKeys","hasInvalidParts","processRoutes","_routes","newRoutes","defaultLocales","domains","defaultLocale","base","http","domain","r","srcBasePath","isExternal","destBasePath","forEach","locales","escapeStringRegexp","_rewrites","every"],"mappings":"AAAA;;;;kBAwkB8BA,gBAAgB;QA/gB9BC,mBAAmB,GAAnBA,mBAAmB;AAtDjB,IAAA,MAAS,kCAAT,SAAS,EAAA;AACQ,IAAA,aAA6B,WAA7B,6BAA6B,CAAA;AACjC,IAAA,eAAqB,WAArB,qBAAqB,CAAA;AACjB,IAAA,eAAmB,WAAnB,mBAAmB,CAAA;AAkkBvC,eAAeD,gBAAgB,CAC5CE,MAAkB,EACK;IACvB,MAAM,CAACC,OAAO,EAAEC,QAAQ,EAAEC,SAAS,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC;QACvDC,WAAW,CAACN,MAAM,CAAC;QACnBO,YAAY,CAACP,MAAM,CAAC;QACpBQ,aAAa,CAACR,MAAM,CAAC;KACtB,CAAC;IAEF,MAAMS,aAAa,GACjBP,QAAQ,CAACQ,WAAW,CAACC,MAAM,GAC3BT,QAAQ,CAACU,UAAU,CAACD,MAAM,GAC1BT,QAAQ,CAACW,QAAQ,CAACF,MAAM;IAE1B,MAAMG,WAAW,GAAGb,OAAO,CAACU,MAAM,GAAGR,SAAS,CAACQ,MAAM,GAAGF,aAAa;IAErE,IAAIK,WAAW,GAAG,IAAI,EAAE;QACtBC,OAAO,CAACC,IAAI,CACVC,MAAK,QAAA,CAACC,IAAI,CAACC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,GAC5B,CAAC,wFAAwF,CAAC,GAC1F,CAAC,SAAS,EAAElB,OAAO,CAACU,MAAM,CAAC,EAAE,CAAC,GAC9B,CAAC,UAAU,EAAEF,aAAa,CAAC,EAAE,CAAC,GAC9B,CAAC,WAAW,EAAEN,SAAS,CAACQ,MAAM,CAAC,EAAE,CAAC,GAClC,CAAC,yEAAyE,CAAC,CAC9E;KACF;IAED,IAAIX,MAAM,CAACoB,aAAa,EAAE;QACxBjB,SAAS,CAACkB,OAAO,CACf;YACEC,MAAM,EAAE,2DAA2D;YACnEC,WAAW,EAAE,QAAQ;YACrBC,SAAS,EAAE,IAAI;YACfC,MAAM,EAAEzB,MAAM,CAAC0B,IAAI,GAAG,KAAK,GAAGC,SAAS;YACvCC,QAAQ,EAAE,IAAI;SACf,EACD;YACEN,MAAM,EAAE,yDAAyD;YACjEC,WAAW,EAAE,YAAY;YACzBC,SAAS,EAAE,IAAI;YACfC,MAAM,EAAEzB,MAAM,CAAC0B,IAAI,GAAG,KAAK,GAAGC,SAAS;YACvCC,QAAQ,EAAE,IAAI;SACf,CACF;QACD,IAAI5B,MAAM,CAAC6B,QAAQ,EAAE;YACnB1B,SAAS,CAACkB,OAAO,CAAC;gBAChBC,MAAM,EAAEtB,MAAM,CAAC6B,QAAQ;gBACvBN,WAAW,EAAEvB,MAAM,CAAC6B,QAAQ,GAAG,GAAG;gBAClCL,SAAS,EAAE,IAAI;gBACfK,QAAQ,EAAE,KAAK;gBACfJ,MAAM,EAAEzB,MAAM,CAAC0B,IAAI,GAAG,KAAK,GAAGC,SAAS;gBACvCC,QAAQ,EAAE,IAAI;aACf,CAAa;SACf;KACF,MAAM;QACLzB,SAAS,CAACkB,OAAO,CAAC;YAChBC,MAAM,EAAE,UAAU;YAClBC,WAAW,EAAE,SAAS;YACtBC,SAAS,EAAE,IAAI;YACfC,MAAM,EAAEzB,MAAM,CAAC0B,IAAI,GAAG,KAAK,GAAGC,SAAS;YACvCC,QAAQ,EAAE,IAAI;SACf,CAAa;QACd,IAAI5B,MAAM,CAAC6B,QAAQ,EAAE;YACnB1B,SAAS,CAACkB,OAAO,CAAC;gBAChBC,MAAM,EAAEtB,MAAM,CAAC6B,QAAQ,GAAG,GAAG;gBAC7BN,WAAW,EAAEvB,MAAM,CAAC6B,QAAQ;gBAC5BL,SAAS,EAAE,IAAI;gBACfK,QAAQ,EAAE,KAAK;gBACfJ,MAAM,EAAEzB,MAAM,CAAC0B,IAAI,GAAG,KAAK,GAAGC,SAAS;gBACvCC,QAAQ,EAAE,IAAI;aACf,CAAa;SACf;KACF;IAED,OAAO;QACL3B,OAAO;QACPC,QAAQ;QACRC,SAAS;KACV,CAAA;CACF;;;;;;AAjmBD,MAAM2B,eAAe,GAAG,IAAIC,GAAG,CAAC;IAAC,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,MAAM;CAAC,CAAC;AACtE,MAAMC,gBAAgB,kCAAkC;AAEjD,SAASjC,mBAAmB,CAACkC,KAAa,EAAE;IACjD,0EAA0E;IAC1E,OAAOA,KAAK,CAACC,OAAO,UAAU,GAAG,CAAC,CAAA;CACnC;AAED,SAASC,aAAa,CAACC,KAAe,EAGpC;IACA,MAAMC,YAAY,GAAa,EAAE;IACjC,IAAIC,gBAAgB,GAAY,KAAK;IAErC,IAAIF,KAAK,CAACG,UAAU,IAAI,CAACC,eAAkB,mBAAA,CAACC,GAAG,CAACL,KAAK,CAACG,UAAU,CAAC,EAAE;QACjED,gBAAgB,GAAG,IAAI;QACvBD,YAAY,CAACK,IAAI,CAAC,CAAC,mDAAmD,CAAC,CAAC;KACzE;IACD,IAAI,OAAON,KAAK,CAACZ,SAAS,KAAK,SAAS,IAAI,CAACY,KAAK,CAACG,UAAU,EAAE;QAC7DF,YAAY,CAACK,IAAI,CAAC,CAAC,iDAAiD,CAAC,CAAC;KACvE;IAED,OAAO;QACLL,YAAY;QACZC,gBAAgB;KACjB,CAAA;CACF;AAED,SAASK,WAAW,CAACP,KAAa,EAAY;IAC5C,MAAMC,YAAY,GAAa,EAAE;IAEjC,IAAI,CAACO,KAAK,CAACC,OAAO,CAACT,KAAK,CAACnC,OAAO,CAAC,EAAE;QACjCoC,YAAY,CAACK,IAAI,CAAC,kCAAkC,CAAC;KACtD,MAAM,IAAIN,KAAK,CAACnC,OAAO,CAACU,MAAM,KAAK,CAAC,EAAE;QACrC0B,YAAY,CAACK,IAAI,CAAC,iCAAiC,CAAC;KACrD,MAAM;QACL,KAAK,MAAMI,MAAM,IAAIV,KAAK,CAACnC,OAAO,CAAE;YAClC,IAAI,CAAC6C,MAAM,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;gBACzCT,YAAY,CAACK,IAAI,CACf,4DAA4D,CAC7D;gBACD,MAAK;aACN;YACD,IAAI,OAAOI,MAAM,CAACC,GAAG,KAAK,QAAQ,EAAE;gBAClCV,YAAY,CAACK,IAAI,CAAC,qCAAqC,CAAC;gBACxD,MAAK;aACN;YACD,IAAI,OAAOI,MAAM,CAACE,KAAK,KAAK,QAAQ,EAAE;gBACpCX,YAAY,CAACK,IAAI,CAAC,uCAAuC,CAAC;gBAC1D,MAAK;aACN;SACF;KACF;IACD,OAAOL,YAAY,CAAA;CACpB;AAID,SAASY,iBAAiB,CACxBC,MAAyC,EACzCC,IAAe,EACT;IACN,IAAI,CAACP,KAAK,CAACC,OAAO,CAACK,MAAM,CAAC,EAAE;QAC1BnC,OAAO,CAACqC,KAAK,CACX,CAAC,OAAO,EAAED,IAAI,CAAC,iCAAiC,EAAE,OAAOD,MAAM,CAAC,GAAG,CAAC,GAClE,CAAC,6EAA6E,CAAC,CAClF;QACDG,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;KAChB;IAED,IAAIC,gBAAgB,GAAG,CAAC;IACxB,IAAIjB,gBAAgB,GAAG,KAAK;IAC5B,IAAIkB,aAAa,GAAG,KAAK;IAEzB,MAAMC,WAAW,GAAG,IAAI1B,GAAG,CAAS;QAAC,QAAQ;QAAE,UAAU;QAAE,QAAQ;QAAE,KAAK;KAAC,CAAC;IAE5E,IAAIoB,IAAI,KAAK,SAAS,EAAE;QACtBM,WAAW,CAACC,GAAG,CAAC,aAAa,CAAC;KAC/B;IACD,IAAIP,IAAI,KAAK,UAAU,EAAE;QACvBM,WAAW,CAACC,GAAG,CAAC,YAAY,CAAC;QAC7BD,WAAW,CAACC,GAAG,CAAC,WAAW,CAAC;QAC5BD,WAAW,CAACC,GAAG,CAAC,aAAa,CAAC;KAC/B;IACD,IAAIP,IAAI,KAAK,QAAQ,EAAE;QACrBM,WAAW,CAACC,GAAG,CAAC,SAAS,CAAC;KAC3B;IAED,KAAK,MAAMtB,KAAK,IAAIc,MAAM,CAAE;QAC1B,IAAI,CAACd,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;YACvCrB,OAAO,CAACqC,KAAK,CACX,CAAC,UAAU,EAAEO,IAAI,CAACC,SAAS,CACzBxB,KAAK,CACN,CAAC,6CAA6C,EAC7Ce,IAAI,KAAK,QAAQ,GAAG,SAAS,GAAG,aAAa,CAC9C,EAAE,CAAC,CACL;YACDI,gBAAgB,EAAE;YAClB,SAAQ;SACT;QAED,IACEJ,IAAI,KAAK,SAAS,IAClB,AAACf,KAAK,CAAaP,QAAQ,KAAK,KAAK,IACrC,CAAC,CACC,AAACO,KAAK,CAAab,WAAW,CAACsC,UAAU,CAAC,SAAS,CAAC,IACpD,AAACzB,KAAK,CAAab,WAAW,CAACsC,UAAU,CAAC,UAAU,CAAC,CACtD,EACD;YACA9C,OAAO,CAACqC,KAAK,CACX,CAAC,UAAU,EACT,AAAChB,KAAK,CAAad,MAAM,CAC1B,uKAAuK,CAAC,CAC1K;YACDiC,gBAAgB,EAAE;YAClB,SAAQ;SACT;QAED,MAAMO,IAAI,GAAGC,MAAM,CAACD,IAAI,CAAC1B,KAAK,CAAC;QAC/B,MAAM4B,WAAW,GAAGF,IAAI,CAACG,MAAM,CAAC,CAAClB,GAAG,GAAK,CAACU,WAAW,CAAChB,GAAG,CAACM,GAAG,CAAC,CAAC;QAC/D,MAAMV,YAAY,GAAa,EAAE;QAEjC,IAAI,OAAOD,KAAK,CAACP,QAAQ,KAAK,WAAW,IAAIO,KAAK,CAACP,QAAQ,KAAK,KAAK,EAAE;YACrEQ,YAAY,CAACK,IAAI,CAAC,uCAAuC,CAAC;SAC3D;QAED,IAAI,OAAON,KAAK,CAACX,MAAM,KAAK,WAAW,IAAIW,KAAK,CAACX,MAAM,KAAK,KAAK,EAAE;YACjEY,YAAY,CAACK,IAAI,CAAC,qCAAqC,CAAC;SACzD;QAED,IAAI,OAAON,KAAK,CAACK,GAAG,KAAK,WAAW,IAAI,CAACG,KAAK,CAACC,OAAO,CAACT,KAAK,CAACK,GAAG,CAAC,EAAE;YACjEJ,YAAY,CAACK,IAAI,CAAC,6CAA6C,CAAC;YAChEc,aAAa,GAAG,IAAI;SACrB,MAAM,IAAIpB,KAAK,CAACK,GAAG,EAAE;YACpB,MAAMyB,eAAe,GAAG,EAAE;YAE1B,KAAK,MAAMC,OAAO,IAAI/B,KAAK,CAACK,GAAG,CAAE;gBAC/B,IAAI2B,eAAe,GAAG,EAAE;gBAExB,IAAI,CAACtC,eAAe,CAACW,GAAG,CAAC0B,OAAO,CAAChB,IAAI,CAAC,EAAE;oBACtCiB,eAAe,CAAC1B,IAAI,CAAC,CAAC,cAAc,EAAEyB,OAAO,CAAChB,IAAI,CAAC,CAAC,CAAC,CAAC;iBACvD;gBACD,IAAI,OAAOgB,OAAO,CAACpB,GAAG,KAAK,QAAQ,IAAIoB,OAAO,CAAChB,IAAI,KAAK,MAAM,EAAE;oBAC9DiB,eAAe,CAAC1B,IAAI,CAAC,CAAC,aAAa,EAAEyB,OAAO,CAACpB,GAAG,CAAC,CAAC,CAAC,CAAC;iBACrD;gBACD,IACE,OAAOoB,OAAO,CAACnB,KAAK,KAAK,WAAW,IACpC,OAAOmB,OAAO,CAACnB,KAAK,KAAK,QAAQ,EACjC;oBACAoB,eAAe,CAAC1B,IAAI,CAAC,CAAC,eAAe,EAAEyB,OAAO,CAACnB,KAAK,CAAC,CAAC,CAAC,CAAC;iBACzD;gBACD,IAAI,OAAOmB,OAAO,CAACnB,KAAK,KAAK,WAAW,IAAImB,OAAO,CAAChB,IAAI,KAAK,MAAM,EAAE;oBACnEiB,eAAe,CAAC1B,IAAI,CAAC,CAAC,iCAAiC,CAAC,CAAC;iBAC1D;gBAED,IAAI0B,eAAe,CAACzD,MAAM,GAAG,CAAC,EAAE;oBAC9BuD,eAAe,CAACxB,IAAI,CAClB,CAAC,EAAE0B,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,EAAEV,IAAI,CAACC,SAAS,CAACO,OAAO,CAAC,CAAC,CAAC,CAC/D;iBACF;aACF;YAED,IAAID,eAAe,CAACvD,MAAM,GAAG,CAAC,EAAE;gBAC9B6C,aAAa,GAAG,IAAI;gBACpB,MAAMc,OAAO,GAAG,CAAC,IAAI,EAAEJ,eAAe,CAACvD,MAAM,KAAK,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC;gBAEhEI,OAAO,CAACqC,KAAK,CACX,CAAC,gBAAgB,EAAEkB,OAAO,CAAC,GAAG,CAAC,GAAGJ,eAAe,CAACG,IAAI,CAAC,IAAI,CAAC,CAC7D;gBACDtD,OAAO,CAACqC,KAAK,EAAE;gBACff,YAAY,CAACK,IAAI,CAAC,CAAC,gBAAgB,EAAE4B,OAAO,CAAC,MAAM,CAAC,CAAC;aACtD;SACF;QAED,IAAI,CAAClC,KAAK,CAACd,MAAM,EAAE;YACjBe,YAAY,CAACK,IAAI,CAAC,qBAAqB,CAAC;SACzC,MAAM,IAAI,OAAON,KAAK,CAACd,MAAM,KAAK,QAAQ,EAAE;YAC3Ce,YAAY,CAACK,IAAI,CAAC,0BAA0B,CAAC;SAC9C,MAAM,IAAI,CAACN,KAAK,CAACd,MAAM,CAACuC,UAAU,CAAC,GAAG,CAAC,EAAE;YACxCxB,YAAY,CAACK,IAAI,CAAC,gCAAgC,CAAC;SACpD;QAED,IAAIS,IAAI,KAAK,QAAQ,EAAE;YACrBd,YAAY,CAACK,IAAI,IAAIC,WAAW,CAACP,KAAK,CAAW,CAAC;SACnD,MAAM;YACL,IAAImC,MAAM,GAAGnC,KAAK,AAAsB;YACxC,IAAI,CAACmC,MAAM,CAAChD,WAAW,EAAE;gBACvBc,YAAY,CAACK,IAAI,CAAC,0BAA0B,CAAC;aAC9C,MAAM,IAAI,OAAO6B,MAAM,CAAChD,WAAW,KAAK,QAAQ,EAAE;gBACjDc,YAAY,CAACK,IAAI,CAAC,+BAA+B,CAAC;aACnD,MAAM,IACLS,IAAI,KAAK,SAAS,IAClB,CAACoB,MAAM,CAAChD,WAAW,CAACiD,KAAK,8BAA8B,EACvD;gBACAnC,YAAY,CAACK,IAAI,CACf,iEAAiE,CAClE;aACF;SACF;QAED,IAAIS,IAAI,KAAK,UAAU,EAAE;YACvB,MAAMsB,MAAM,GAAGtC,aAAa,CAACC,KAAK,CAAa;YAC/CE,gBAAgB,GAAGA,gBAAgB,IAAImC,MAAM,CAACnC,gBAAgB;YAC9DD,YAAY,CAACK,IAAI,IAAI+B,MAAM,CAACpC,YAAY,CAAC;SAC1C;QAED,IAAIqC,YAAY,AAAqB;QAErC,IAAI,OAAOtC,KAAK,CAACd,MAAM,KAAK,QAAQ,IAAIc,KAAK,CAACd,MAAM,CAACuC,UAAU,CAAC,GAAG,CAAC,EAAE;YACpE,wDAAwD;YACxD,yBAAyB;YACzB,MAAM,EAAEc,MAAM,CAAA,EAAEvB,KAAK,CAAA,EAAEwB,QAAQ,CAAA,EAAE,GAAGC,CAAAA,GAAAA,eAAc,AAAc,CAAA,eAAd,CAACzC,KAAK,CAACd,MAAM,CAAC;YAEhE,IAAI8B,KAAK,EAAE;gBACTf,YAAY,CAACK,IAAI,CAAC,uBAAuB,CAAC;aAC3C;YAED,IAAIkC,QAAQ,IAAIA,QAAQ,CAACjE,MAAM,GAAG,IAAI,EAAE;gBACtC0B,YAAY,CAACK,IAAI,CAAC,2CAA2C,CAAC;aAC/D;YAEDgC,YAAY,GAAGC,MAAM;SACtB;QACD,MAAMG,WAAW,GAAG,IAAI/C,GAAG,EAAU;QAErC,IAAIK,KAAK,CAACK,GAAG,EAAE;YACb,KAAK,MAAM0B,OAAO,IAAI/B,KAAK,CAACK,GAAG,CAAE;gBAC/B,IAAI,CAAC0B,OAAO,CAACnB,KAAK,IAAImB,OAAO,CAACpB,GAAG,EAAE;oBACjC+B,WAAW,CAACpB,GAAG,CAACS,OAAO,CAACpB,GAAG,CAAC;iBAC7B;gBAED,IAAIoB,OAAO,CAACnB,KAAK,EAAE;oBACjB,KAAK,MAAMwB,KAAK,IAAIL,OAAO,CAACnB,KAAK,CAAC+B,QAAQ,CAAC/C,gBAAgB,CAAC,CAAE;wBAC5D,IAAIwC,KAAK,CAAC,CAAC,CAAC,EAAE;4BACZM,WAAW,CAACpB,GAAG,CAACc,KAAK,CAAC,CAAC,CAAC,CAAC;yBAC1B;qBACF;oBAED,IAAIL,OAAO,CAAChB,IAAI,KAAK,MAAM,EAAE;wBAC3B2B,WAAW,CAACpB,GAAG,CAAC,MAAM,CAAC;qBACxB;iBACF;aACF;SACF;QAED,gEAAgE;QAChE,6DAA6D;QAC7D,IAAI,OAAO,AAACtB,KAAK,CAAab,WAAW,KAAK,QAAQ,EAAE;YACtD,IACE,AAACa,KAAK,CAAab,WAAW,CAACsC,UAAU,CAAC,GAAG,CAAC,IAC9CjB,KAAK,CAACC,OAAO,CAAC6B,YAAY,CAAC,EAC3B;gBACA,MAAMM,aAAa,GAAG,IAAIjD,GAAG,EAAE;gBAE/B,KAAK,MAAMkD,KAAK,IAAIP,YAAY,CAAE;oBAChC,IAAI,OAAOO,KAAK,KAAK,QAAQ,IAAI,OAAOA,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;wBAC/D,MAAMC,YAAY,GAAG,IAAIC,MAAM,CAAC,CAAC,CAAC,EAAEH,KAAK,CAACC,IAAI,CAAC,OAAO,CAAC,CAAC;wBACxD,IAAI,AAAC9C,KAAK,CAAab,WAAW,CAACiD,KAAK,CAACW,YAAY,CAAC,EAAE;4BACtDH,aAAa,CAACtB,GAAG,CAAC,CAAC,CAAC,EAAEuB,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;yBACpC;qBACF;iBACF;gBAED,IAAIF,aAAa,CAACK,IAAI,GAAG,CAAC,EAAE;oBAC1BhD,YAAY,CAACK,IAAI,CACf,CAAC,mCAAmC,EAAE;2BAAIsC,aAAa;qBAAC,CAACX,IAAI,CAC3D,IAAI,CACL,CAAC,CAAC,CACJ;iBACF,MAAM;oBACL,MAAM,EACJM,MAAM,EAAEW,UAAU,CAAA,EAClBV,QAAQ,EAAEW,YAAY,CAAA,EACtBnC,KAAK,EAAEoC,sBAAsB,CAAA,IAC9B,GAAGX,CAAAA,GAAAA,eAAc,AAEhB,CAAA,eAFgB,CAAC,AAACzC,KAAK,CAAab,WAAW,EAAE;wBACjDkE,SAAS,EAAE,IAAI;qBAChB,CAAC;oBAEF,IAAIF,YAAY,IAAIA,YAAY,CAAC5E,MAAM,GAAG,IAAI,EAAE;wBAC9C0B,YAAY,CAACK,IAAI,CAAC,gDAAgD,CAAC;qBACpE;oBAED,IAAI8C,sBAAsB,EAAE;wBAC1BnD,YAAY,CAACK,IAAI,CAAC,4BAA4B,CAAC;qBAChD,MAAM;wBACL,MAAMgD,cAAc,GAAG,IAAI3D,GAAG,CAC5B2C,YAAY,CACTiB,GAAG,CAAC,CAACC,IAAI,GAAK,OAAOA,IAAI,KAAK,QAAQ,IAAIA,IAAI,CAACV,IAAI,CAAC,CACpDjB,MAAM,CAAC4B,OAAO,CAAC,CACnB;wBACD,MAAMC,mBAAmB,GAAG,IAAI/D,GAAG,EAAE;wBAErC,KAAK,MAAMkD,KAAK,IAAIK,UAAU,CAAG;4BAC/B,IACE,OAAOL,KAAK,KAAK,QAAQ,IACzB,CAACS,cAAc,CAACjD,GAAG,CAACwC,KAAK,CAACC,IAAI,CAAC,IAC/B,CAACJ,WAAW,CAACrC,GAAG,CAACwC,KAAK,CAACC,IAAI,CAAW,EACtC;gCACAY,mBAAmB,CAACpC,GAAG,CAACuB,KAAK,CAACC,IAAI,CAAC;6BACpC;yBACF;wBAED,IAAIY,mBAAmB,CAACT,IAAI,EAAE;4BAC5BhD,YAAY,CAACK,IAAI,CACf,CAAC,2DAA2D,EAAE;mCACzDoD,mBAAmB;6BACvB,CAACzB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAChB;yBACF;qBACF;iBACF;aACF;SACF;QAED,MAAM0B,cAAc,GAAG/B,WAAW,CAACrD,MAAM,GAAG,CAAC;QAC7C,MAAMqF,eAAe,GAAG3D,YAAY,CAAC1B,MAAM,GAAG,CAAC;QAE/C,IAAIoF,cAAc,IAAIC,eAAe,EAAE;YACrCjF,OAAO,CAACqC,KAAK,CACX,CAAC,EAAEf,YAAY,CAACgC,IAAI,CAAC,IAAI,CAAC,CAAC,EACzBL,WAAW,CAACrD,MAAM,GACd,CAACqF,eAAe,GAAG,GAAG,GAAG,EAAE,CAAC,GAC5B,CAAC,cAAc,EAAEhC,WAAW,CAACrD,MAAM,KAAK,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,GACxDqD,WAAW,CAACK,IAAI,CAAC,GAAG,CAAC,GACrB,EAAE,CACP,WAAW,EAAEV,IAAI,CAACC,SAAS,CAACxB,KAAK,CAAC,CAAC,CAAC,CACtC;YACDrB,OAAO,CAACqC,KAAK,EAAE;YACfG,gBAAgB,EAAE;SACnB;KACF;IAED,IAAIA,gBAAgB,GAAG,CAAC,EAAE;QACxB,IAAIjB,gBAAgB,EAAE;YACpBvB,OAAO,CAACqC,KAAK,CACX,CAAC,uCAAuC,EAAE;mBAAIZ,eAAkB,mBAAA;aAAC,CAAC6B,IAAI,CACpE,IAAI,CACL,CAAC,CAAC,CACJ;SACF;QACD,IAAIb,aAAa,EAAE;YACjBzC,OAAO,CAACqC,KAAK,CACX,CAAC,gCAAgC,EAAEO,IAAI,CAACC,SAAS,CAC/C;gBACET,IAAI,EAAE;uBAAIrB,eAAe;iBAAC,CAACuC,IAAI,CAAC,IAAI,CAAC;gBACrCtB,GAAG,EAAE,sBAAsB;gBAC3BC,KAAK,EAAE,8CAA8C;aACtD,EACD,IAAI,EACJ,CAAC,CACF,CAAC,CAAC,CACJ;SACF;QACDjC,OAAO,CAACqC,KAAK,EAAE;QACfrC,OAAO,CAACqC,KAAK,CACX,CAAC,eAAe,EAAED,IAAI,CAAC,EAAEI,gBAAgB,KAAK,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,CACnE;QACDF,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;KAChB;CACF;AAYD,SAAS2C,aAAa,CACpB/C,MAAS,EACTlD,MAAkB,EAClBmD,IAAuC,EACpC;IACH,MAAM+C,OAAO,GAAGhD,MAAM,AAKpB;IACF,MAAMiD,SAAS,GAAmB,EAAE;IACpC,MAAMC,cAAc,GAGf,EAAE;IAEP,IAAIpG,MAAM,CAAC0B,IAAI,IAAIyB,IAAI,KAAK,UAAU,EAAE;YACnBnD,GAAW;QAA9B,KAAK,MAAM4F,IAAI,IAAI5F,CAAAA,CAAAA,GAAW,GAAXA,MAAM,CAAC0B,IAAI,SAAS,GAApB1B,KAAAA,CAAoB,GAApBA,GAAW,CAAEqG,OAAO,CAAA,IAAI,EAAE,CAAE;YAC7CD,cAAc,CAAC1D,IAAI,CAAC;gBAClBjB,MAAM,EAAEmE,IAAI,CAACU,aAAa;gBAC1BC,IAAI,EAAE,CAAC,IAAI,EAAEX,IAAI,CAACY,IAAI,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,EAAEZ,IAAI,CAACa,MAAM,CAAC,CAAC;aACrD,CAAC;SACH;QAEDL,cAAc,CAAC1D,IAAI,CAAC;YAClBjB,MAAM,EAAEzB,MAAM,CAAC0B,IAAI,CAAC4E,aAAa;YACjCC,IAAI,EAAE,EAAE;SACT,CAAC;KACH;IAED,KAAK,MAAMG,CAAC,IAAIR,OAAO,CAAE;YAGHQ,IAAa;QAFjC,MAAMC,WAAW,GACf3G,MAAM,CAAC6B,QAAQ,IAAI6E,CAAC,CAAC7E,QAAQ,KAAK,KAAK,GAAG7B,MAAM,CAAC6B,QAAQ,GAAG,EAAE;QAChE,MAAM+E,UAAU,GAAG,EAACF,CAAAA,IAAa,GAAbA,CAAC,CAACnF,WAAW,SAAY,GAAzBmF,KAAAA,CAAyB,GAAzBA,IAAa,CAAE7C,UAAU,CAAC,GAAG,CAAC,CAAA;QAClD,MAAMgD,YAAY,GAAGF,WAAW,IAAI,CAACC,UAAU,GAAGD,WAAW,GAAG,EAAE;QAElE,IAAI3G,MAAM,CAAC0B,IAAI,IAAIgF,CAAC,CAACjF,MAAM,KAAK,KAAK,EAAE;gBAyBhBiF,IAAa;YAxBlC,IAAI,CAACE,UAAU,EAAE;gBACfR,cAAc,CAACU,OAAO,CAAC,CAAClB,IAAI,GAAK;oBAC/B,IAAIrE,WAAW;oBAEf,IAAImF,CAAC,CAACnF,WAAW,EAAE;wBACjBA,WAAW,GAAGqE,IAAI,CAACW,IAAI,GACnB,CAAC,EAAEX,IAAI,CAACW,IAAI,CAAC,EAAEM,YAAY,CAAC,EAAEH,CAAC,CAACnF,WAAW,CAAC,CAAC,GAC7C,CAAC,EAAEsF,YAAY,CAAC,EAAEH,CAAC,CAACnF,WAAW,CAAC,CAAC;qBACtC;oBAED4E,SAAS,CAACzD,IAAI,CAAC;wBACb,GAAGgE,CAAC;wBACJnF,WAAW;wBACXD,MAAM,EAAE,CAAC,EAAEqF,WAAW,CAAC,CAAC,EAAEf,IAAI,CAACnE,MAAM,CAAC,EAAEiF,CAAC,CAACpF,MAAM,CAAC,CAAC;qBACnD,CAAC;iBACH,CAAC;aACH;YAEDoF,CAAC,CAACpF,MAAM,GAAG,CAAC,qBAAqB,EAAEtB,MAAM,CAAC0B,IAAI,CAACqF,OAAO,CACnDpB,GAAG,CAAC,CAAClE,MAAc,GAAKuF,CAAAA,GAAAA,aAAkB,AAAQ,CAAA,mBAAR,CAACvF,MAAM,CAAC,CAAC,CACnD4C,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EACZqC,CAAC,CAACpF,MAAM,KAAK,GAAG,IAAI,CAACtB,MAAM,CAACoB,aAAa,GAAG,EAAE,GAAGsF,CAAC,CAACpF,MAAM,CAC1D,CAAC;YAEF,IAAIoF,CAAC,CAACnF,WAAW,KAAImF,CAAAA,IAAa,GAAbA,CAAC,CAACnF,WAAW,SAAY,GAAzBmF,KAAAA,CAAyB,GAAzBA,IAAa,CAAE7C,UAAU,CAAC,GAAG,CAAC,CAAA,EAAE;gBACnD6C,CAAC,CAACnF,WAAW,GAAG,CAAC,oBAAoB,EACnCmF,CAAC,CAACnF,WAAW,KAAK,GAAG,IAAI,CAACvB,MAAM,CAACoB,aAAa,GAAG,EAAE,GAAGsF,CAAC,CAACnF,WAAW,CACpE,CAAC;aACH;SACF;QACDmF,CAAC,CAACpF,MAAM,GAAG,CAAC,EAAEqF,WAAW,CAAC,EACxBD,CAAC,CAACpF,MAAM,KAAK,GAAG,IAAIqF,WAAW,GAAG,EAAE,GAAGD,CAAC,CAACpF,MAAM,CAChD,CAAC;QAEF,IAAIoF,CAAC,CAACnF,WAAW,EAAE;YACjBmF,CAAC,CAACnF,WAAW,GAAG,CAAC,EAAEsF,YAAY,CAAC,EAC9BH,CAAC,CAACnF,WAAW,KAAK,GAAG,IAAIsF,YAAY,GAAG,EAAE,GAAGH,CAAC,CAACnF,WAAW,CAC3D,CAAC;SACH;QACD4E,SAAS,CAACzD,IAAI,CAACgE,CAAC,CAAC;KAClB;IACD,OAAOP,SAAS,CAAY;CAC7B;AAED,eAAe3F,aAAa,CAACR,MAAkB,EAAE;IAC/C,IAAI,OAAOA,MAAM,CAACG,SAAS,KAAK,UAAU,EAAE;QAC1C,OAAO,EAAE,CAAA;KACV;IACD,IAAIA,SAAS,GAAG,MAAMH,MAAM,CAACG,SAAS,EAAE;IACxC,yDAAyD;IACzD,uBAAuB;IACvB8C,iBAAiB,CAAC9C,SAAS,EAAE,UAAU,CAAC;IAExCA,SAAS,GAAG8F,aAAa,CAAC9F,SAAS,EAAEH,MAAM,EAAE,UAAU,CAAC;IACxDiD,iBAAiB,CAAC9C,SAAS,EAAE,UAAU,CAAC;IACxC,OAAOA,SAAS,CAAA;CACjB;AAED,eAAeI,YAAY,CAACP,MAAkB,EAAE;IAC9C,IAAI,OAAOA,MAAM,CAACE,QAAQ,KAAK,UAAU,EAAE;QACzC,OAAO;YACLQ,WAAW,EAAE,EAAE;YACfE,UAAU,EAAE,EAAE;YACdC,QAAQ,EAAE,EAAE;SACb,CAAA;KACF;IACD,MAAMoG,SAAS,GAAG,MAAMjH,MAAM,CAACE,QAAQ,EAAE;IACzC,IAAIQ,WAAW,GAAc,EAAE;IAC/B,IAAIE,UAAU,GAAc,EAAE;IAC9B,IAAIC,QAAQ,GAAc,EAAE;IAE5B,IACE,CAAC+B,KAAK,CAACC,OAAO,CAACoE,SAAS,CAAC,IACzB,OAAOA,SAAS,KAAK,QAAQ,IAC7BlD,MAAM,CAACD,IAAI,CAACmD,SAAS,CAAC,CAACC,KAAK,CAC1B,CAACnE,GAAG,GACFA,GAAG,KAAK,aAAa,IAAIA,GAAG,KAAK,YAAY,IAAIA,GAAG,KAAK,UAAU,CACtE,EACD;QACArC,WAAW,GAAGuG,SAAS,CAACvG,WAAW,IAAI,EAAE;QACzCE,UAAU,GAAGqG,SAAS,CAACrG,UAAU,IAAI,EAAE;QACvCC,QAAQ,GAAGoG,SAAS,CAACpG,QAAQ,IAAI,EAAE;KACpC,MAAM;QACLD,UAAU,GAAGqG,SAAS,AAAO;KAC9B;IACD,yDAAyD;IACzD,uBAAuB;IACvBhE,iBAAiB,CAACvC,WAAW,EAAE,SAAS,CAAC;IACzCuC,iBAAiB,CAACrC,UAAU,EAAE,SAAS,CAAC;IACxCqC,iBAAiB,CAACpC,QAAQ,EAAE,SAAS,CAAC;IAEtCH,WAAW,GAAGuF,aAAa,CAACvF,WAAW,EAAEV,MAAM,EAAE,SAAS,CAAC;IAC3DY,UAAU,GAAGqF,aAAa,CAACrF,UAAU,EAAEZ,MAAM,EAAE,SAAS,CAAC;IACzDa,QAAQ,GAAGoF,aAAa,CAACpF,QAAQ,EAAEb,MAAM,EAAE,SAAS,CAAC;IAErDiD,iBAAiB,CAACvC,WAAW,EAAE,SAAS,CAAC;IACzCuC,iBAAiB,CAACrC,UAAU,EAAE,SAAS,CAAC;IACxCqC,iBAAiB,CAACpC,QAAQ,EAAE,SAAS,CAAC;IAEtC,OAAO;QACLH,WAAW;QACXE,UAAU;QACVC,QAAQ;KACT,CAAA;CACF;AAED,eAAeP,WAAW,CAACN,MAAkB,EAAE;IAC7C,IAAI,OAAOA,MAAM,CAACC,OAAO,KAAK,UAAU,EAAE;QACxC,OAAO,EAAE,CAAA;KACV;IACD,IAAIA,OAAO,GAAG,MAAMD,MAAM,CAACC,OAAO,EAAE;IACpC,yDAAyD;IACzD,uBAAuB;IACvBgD,iBAAiB,CAAChD,OAAO,EAAE,QAAQ,CAAC;IAEpCA,OAAO,GAAGgG,aAAa,CAAChG,OAAO,EAAED,MAAM,EAAE,QAAQ,CAAC;IAClDiD,iBAAiB,CAAChD,OAAO,EAAE,QAAQ,CAAC;IACpC,OAAOA,OAAO,CAAA;CACf"}