{"version":3,"sources":["../../client/use-intersection.tsx"],"names":["useIntersection","hasIntersectionObserver","IntersectionObserver","rootRef","rootMargin","disabled","isDisabled","unobserve","useRef","visible","setVisible","useState","element","setElement","useEffect","current","undefined","tagName","observe","isVisible","root","idleCallback","requestIdleCallback","cancelIdleCallback","resetVisible","useCallback","observers","Map","idList","callback","options","id","observer","elements","createObserver","set","delete","size","disconnect","index","findIndex","obj","margin","splice","existing","find","instance","get","entries","forEach","entry","target","isIntersecting","intersectionRatio","push"],"mappings":"AAAA;;;;QA2BgBA,eAAe,GAAfA,eAAe;AA3B0B,IAAA,MAAO,WAAP,OAAO,CAAA;AAIzD,IAAA,oBAAyB,WAAzB,yBAAyB,CAAA;AAqBhC,MAAMC,uBAAuB,GAAG,OAAOC,oBAAoB,KAAK,UAAU;AAEnE,SAASF,eAAe,CAAoB,EACjDG,OAAO,CAAA,EACPC,UAAU,CAAA,EACVC,QAAQ,CAAA,EACQ,EAAsD;IACtE,MAAMC,UAAU,GAAYD,QAAQ,IAAI,CAACJ,uBAAuB;IAEhE,MAAMM,SAAS,GAAGC,CAAAA,GAAAA,MAAM,AAAY,CAAA,OAAZ,EAAY;IACpC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGC,CAAAA,GAAAA,MAAQ,AAAO,CAAA,SAAP,CAAC,KAAK,CAAC;IAC7C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGF,CAAAA,GAAAA,MAAQ,AAAgB,CAAA,SAAhB,CAAW,IAAI,CAAC;IAEtDG,CAAAA,GAAAA,MAAS,AA2B8C,CAAA,UA3B9C,CAAC,IAAM;QACd,IAAIb,uBAAuB,EAAE;YAC3B,IAAIM,SAAS,CAACQ,OAAO,EAAE;gBACrBR,SAAS,CAACQ,OAAO,EAAE;gBACnBR,SAAS,CAACQ,OAAO,GAAGC,SAAS;aAC9B;YAED,IAAIV,UAAU,IAAIG,OAAO,EAAE,OAAM;YAEjC,IAAIG,OAAO,IAAIA,OAAO,CAACK,OAAO,EAAE;gBAC9BV,SAAS,CAACQ,OAAO,GAAGG,OAAO,CACzBN,OAAO,EACP,CAACO,SAAS,GAAKA,SAAS,IAAIT,UAAU,CAACS,SAAS,CAAC,EACjD;oBAAEC,IAAI,EAAEjB,OAAO,QAAS,GAAhBA,KAAAA,CAAgB,GAAhBA,OAAO,CAAEY,OAAO;oBAAEX,UAAU;iBAAE,CACvC;aACF;YAED,OAAO,IAAM;gBACXG,SAAS,CAACQ,OAAO,QAAI,GAArBR,KAAAA,CAAqB,GAArBA,SAAS,CAACQ,OAAO,EAAI,CAAA;gBACrBR,SAAS,CAACQ,OAAO,GAAGC,SAAS;aAC9B,CAAA;SACF,MAAM;YACL,IAAI,CAACP,OAAO,EAAE;gBACZ,MAAMY,YAAY,GAAGC,CAAAA,GAAAA,oBAAmB,AAAwB,CAAA,oBAAxB,CAAC,IAAMZ,UAAU,CAAC,IAAI,CAAC,CAAC;gBAChE,OAAO,IAAMa,CAAAA,GAAAA,oBAAkB,AAAc,CAAA,mBAAd,CAACF,YAAY,CAAC,CAAA;aAC9C;SACF;KACF,EAAE;QAACT,OAAO;QAAEN,UAAU;QAAEF,UAAU;QAAED,OAAO;QAAEM,OAAO;KAAC,CAAC;IAEvD,MAAMe,YAAY,GAAGC,CAAAA,GAAAA,MAAW,AAE1B,CAAA,YAF0B,CAAC,IAAM;QACrCf,UAAU,CAAC,KAAK,CAAC;KAClB,EAAE,EAAE,CAAC;IAEN,OAAO;QAACG,UAAU;QAAEJ,OAAO;QAAEe,YAAY;KAAC,CAAA;CAC3C;AAED,MAAME,SAAS,GAAG,IAAIC,GAAG,EAAwB;AACjD,MAAMC,MAAM,GAAiB,EAAE;AAE/B,SAASV,OAAO,CACdN,OAAgB,EAChBiB,QAAyB,EACzBC,OAAoC,EACxB;IACZ,MAAM,EAAEC,EAAE,CAAA,EAAEC,QAAQ,CAAA,EAAEC,QAAQ,CAAA,EAAE,GAAGC,cAAc,CAACJ,OAAO,CAAC;IAC1DG,QAAQ,CAACE,GAAG,CAACvB,OAAO,EAAEiB,QAAQ,CAAC;IAE/BG,QAAQ,CAACd,OAAO,CAACN,OAAO,CAAC;IACzB,OAAO,SAASL,SAAS,GAAS;QAChC0B,QAAQ,CAACG,MAAM,CAACxB,OAAO,CAAC;QACxBoB,QAAQ,CAACzB,SAAS,CAACK,OAAO,CAAC;QAE3B,uDAAuD;QACvD,IAAIqB,QAAQ,CAACI,IAAI,KAAK,CAAC,EAAE;YACvBL,QAAQ,CAACM,UAAU,EAAE;YACrBZ,SAAS,CAACU,MAAM,CAACL,EAAE,CAAC;YACpB,MAAMQ,KAAK,GAAGX,MAAM,CAACY,SAAS,CAC5B,CAACC,GAAG,GAAKA,GAAG,CAACrB,IAAI,KAAKW,EAAE,CAACX,IAAI,IAAIqB,GAAG,CAACC,MAAM,KAAKX,EAAE,CAACW,MAAM,CAC1D;YACD,IAAIH,KAAK,GAAG,CAAC,CAAC,EAAE;gBACdX,MAAM,CAACe,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;aACxB;SACF;KACF,CAAA;CACF;AAED,SAASL,cAAc,CAACJ,OAAoC,EAAY;IACtE,MAAMC,EAAE,GAAG;QACTX,IAAI,EAAEU,OAAO,CAACV,IAAI,IAAI,IAAI;QAC1BsB,MAAM,EAAEZ,OAAO,CAAC1B,UAAU,IAAI,EAAE;KACjC;IACD,MAAMwC,QAAQ,GAAGhB,MAAM,CAACiB,IAAI,CAC1B,CAACJ,GAAG,GAAKA,GAAG,CAACrB,IAAI,KAAKW,EAAE,CAACX,IAAI,IAAIqB,GAAG,CAACC,MAAM,KAAKX,EAAE,CAACW,MAAM,CAC1D;IACD,IAAII,QAAQ,AAAsB;IAElC,IAAIF,QAAQ,EAAE;QACZE,QAAQ,GAAGpB,SAAS,CAACqB,GAAG,CAACH,QAAQ,CAAC;QAClC,IAAIE,QAAQ,EAAE;YACZ,OAAOA,QAAQ,CAAA;SAChB;KACF;IAED,MAAMb,QAAQ,GAAG,IAAIN,GAAG,EAA4B;IACpD,MAAMK,QAAQ,GAAG,IAAI9B,oBAAoB,CAAC,CAAC8C,OAAO,GAAK;QACrDA,OAAO,CAACC,OAAO,CAAC,CAACC,KAAK,GAAK;YACzB,MAAMrB,QAAQ,GAAGI,QAAQ,CAACc,GAAG,CAACG,KAAK,CAACC,MAAM,CAAC;YAC3C,MAAMhC,SAAS,GAAG+B,KAAK,CAACE,cAAc,IAAIF,KAAK,CAACG,iBAAiB,GAAG,CAAC;YACrE,IAAIxB,QAAQ,IAAIV,SAAS,EAAE;gBACzBU,QAAQ,CAACV,SAAS,CAAC;aACpB;SACF,CAAC;KACH,EAAEW,OAAO,CAAC;IACXgB,QAAQ,GAAG;QACTf,EAAE;QACFC,QAAQ;QACRC,QAAQ;KACT;IAEDL,MAAM,CAAC0B,IAAI,CAACvB,EAAE,CAAC;IACfL,SAAS,CAACS,GAAG,CAACJ,EAAE,EAAEe,QAAQ,CAAC;IAC3B,OAAOA,QAAQ,CAAA;CAChB"}