{"version":3,"sources":["../../../client/components/layout-router.client.tsx"],"names":["OuterLayoutRouter","InnerLayoutRouter","parallelRouterKey","segmentPath","childProp","loading","rootLayoutIncluded","childNodes","tree","url","useContext","LayoutRouterContext","childNodesForParallelRouter","get","set","Map","treeSegment","childPropSegment","Array","isArray","segment","currentChildSegment","preservedSegments","map","preservedSegment","LoadingBoundary","key","path","isActive","equalSegmentPaths","a","b","length","every","val","i","matchSegment","segmentPathMatches","flightDataPath","layoutSegmentPath","pathToLayout","slice","infinitePromise","createInfinitePromise","Promise","topOfElementInViewport","element","rect","getBoundingClientRect","top","changeByServerResponse","fullTree","focusAndScrollRef","GlobalLayoutRouterContext","focusAndScrollElementRef","useRef","useEffect","apply","current","focus","scrollIntoView","childNode","data","subTreeData","parallelRoutes","walkAddRefetch","segmentPathToWalk","treeToRecreate","parallelRouteKey","isLast","hasOwnProperty","subTree","undefined","refetchTree","fetchServerResponse","URL","location","origin","Error","flightData","readRoot","window","href","fastPath","setTimeout","React","startTransition","subtree","Provider","value","div","ref","children","Suspense","fallback"],"mappings":"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"}